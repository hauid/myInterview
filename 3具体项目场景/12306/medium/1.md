**项目提问**

**核心业务&技术：**

- 判断用户名是否已被注册接口，如何应对**海量并发请求带来的缓存穿透**问题？

- 用户敏感数据存储到数据库后，如何避免被黑客将数据库攻破并窃取用户信息？

- **海量并发查询车票列表接口，如何应对海量请求的查询，以及众多条件如何满足****？

- 海量并发下单接口，如何应对海量用户下单请求，如何进行限流以保证系统不崩溃？以及如何正确落库？

- 用户下单后如何**保障列车座位余票缓存和数据库一致性**？非常典型的数据库和缓存一致性问题。

  

**使用 BinLog 配合 RocketMQ 消息队列完成 MySQL 数据库与 Redis 缓存之间的数据最终一致性**

- 用户下单**十分钟未支付**，如何取消用户未付款订单？如果用户已支付，如何避免错误取消？
- 系统中用了消息队列后，如何确保**消息不会被重复消费，保证业务系统消费幂等性？**
- 海量用户和订单数据如何存储，通过**什么分库分表**规则保障系统高性能响应用户查询等请求？
- 如何通过**分库分表基因算法**保障**分片键的易用性**？比如一个订单号字段同时支持订单号和用户 ID 查询。



1. 为什么会选择做 12306 这个项目？
2. 为什么要用设计模式？不用有什么问题？责任链模式优点是什么？
3. 12306 列车数据搜索用的 ElasticSearch 么？
4. 为什么列车数据搜索使用 Redis 而不是 ElasticSearch？
5. 列车站点余票如何保证实时？
6. 延期关闭订单，除了用 RocketMQ 还有什么方案？各自优缺点？
7. 如何解决用户注册缓存穿透问题？
8. 为什么不用缓存双删来解决数据库和缓存的一致性？
9. 多人购票选座算法是怎么实现的？（没写高铁在线购票，仅写了火车）
10. 如何保障购票时系统承载高并发而不出问题？
11. 为什么要分库分表？分库分表会带来什么问题？订单数据分库分表容量如何评估？
12. 订单按照用户 ID 分片，那乘车人如何查询本人车票？
