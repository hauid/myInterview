

1.Redis 为什么这么快？

*epoll` 使用红黑树存储监听的 fd，插入、删除、查找时间复杂度为 O(log n)*

**单线程 + I/O 多路复用(基于linux系统) + 内存操作是 Redis 高性能的核心，而非完全依赖某个系统特性**

优点:

- **高吞吐量**：单线程避免锁竞争，内存操作速度极快。
- **低延迟**：事件驱动模型减少无效等待，响应时间稳定。
- **资源节省**：无需为每个连接分配线程栈，内存占用低。



2.Redis 网络 IO 模型用的是什么？

**I/O事件通知机制**



3.你都知道 Redis 哪些数据结构？



4.为什么 Redis 不使用 B+ Tree 作为存储数据结构？



5.Redis 缓存满了会触发什么行为？



6.Redis 服务被强制停止，数据会丢失么？



7.**多路复用与 Redis 性能的关系**

#### **(1) 性能优势**

- **高吞吐量**：单线程避免锁竞争，内存操作速度极快。
- **低延迟**：事件驱动模型减少无效等待，响应时间稳定。
- **资源节省**：无需为每个连接分配线程栈，内存占用低。

#### **(2) 局限性**

- **CPU 密集型任务阻塞**：若某个命令执行时间过长（如 `KEYS *`），会阻塞整个事件循环。
- **多核利用不足**：单线程无法充分利用多核 CPU，需通过分片（Cluster）或读写分离（Replica）扩展。











### 主从,哨兵机制

**背景设计理念:将单进程转化为多进程:实现高可用**

主节点:提供读写		

从节点:读操作,通过从节点增加,读请求量增加

**效用:读性能提示,主节点挂了从节点转化为主节点,提高可用性**

定期将内存持久化到磁盘文件rdb文件,主节点传送rdb文件到磁盘,

复制过程中读入的数据写到复制积压缓冲区中











### 选型

常见的分布式缓存技术选型。

分布式缓存的话，比较老牌同时也是使用的比较多的还是 **Memcached** 和 **Redis**。不过，现在基本没有看过还有项目使用 **Memcached** 来做缓存，都是直接用 **Redis**。

Memcached 是分布式缓存最开始兴起的那会，比较常用的。后来，随着 Redis 的发展，大家慢慢都转而使用更加强大的 Redis 了。



### 说一下 Redis 和 Memcached 的区别和共同点

现在公司一般都是用 Redis 来实现缓存，而且 Redis 自身也越来越强大了！不过，了解 Redis 和 Memcached 的区别和共同点，有助于我们在做相应的技术选型的时候，能够做到有理有据！

**共同点**：

1. 都是基于内存的数据库，一般都用来当做缓存使用。
2. 都有过期策略。
3. 两者的性能都非常高。

**区别**：

1. **数据类型**：Redis 支持更丰富的数据类型（支持更复杂的应用场景）。Redis 不仅仅支持简单的 k/v 类型的数据，同时还提供 list，set，zset，hash 等数据结构的存储。**Memcached 只支持最简单的 k/v 数据类型。**
2. **数据持久化**：Redis 支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用，而 Memcached 把数据全部存在内存之中。也就是说，**Redis 有灾难恢复机制**而 Memcached 没有。
3. **集群模式支持**：Memcached 没有原生的集群模式，需要依靠客户端来实现往集群中分片写入数据；但是 Redis 自 3.0 版本起是**原生支持集群模式的。**
4. **线程模型**：Memcached 是多线程，非阻塞 IO 复用的网络模型；Redis 使用单线程的多路 IO 复用模型。 （Redis 6.0 针对网络数据的读写引入了多线程）
5. **特性支持**：Redis 支持发布订阅模型、**Lua 脚本、事务**等功能，而 Memcached 不支持。并且，Redis 支持更多的编程语言。
6. **过期数据删除**：Memcached 过期数据的删除策略只用了惰性删除，而 Redis 同时使用了惰性删除与定期删除。



### 基础说法

系统响应时间从平均**500毫秒减少到50毫秒**，处理并发**请求的能力提高了3倍**，大大提高了用户的浏览和购物体验。此外，数据库的**负载降低了约80%**，极大地提升了系统的稳定性和可靠性。面临着缓存数据与数据库数据一致性的挑战，通过引入**缓存失效策略和后台同步机制**，有效地保证了数据的一致性





### **延申1**

**缓存数据与数据库数据一致性	->	缓存失效策略和后台同步机制**





### 延申2

#### 