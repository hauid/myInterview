### 项目介绍

**项目名称：** 12306铁路购票简化版本

**项目概述：** 该项目旨在提供一个高效、可靠的铁路票务购买系统，采用现代化的前后端分离架构，实现车票查询、购买、订单管理等功能，专为解决高并发票务处理场景设计。

**技术栈：** SpringBoot, MyBatis, Redis, RabbitMQ, MySQL

### 详细职责与技术难点分析

1. **数据库表结构设计**
   - **业务亮点：** 设计高效的数据模型来支持车次查询、座位管理和订单处理等核心功能。
   - **技术难点与解决方案：**
     - **问题：** 初始数据库设计未能有效支持高并发的票务查询和购买请求。
     - **解决方案：** 优化数据库表结构，如引入索引优化查询速度，使用分表策略处理大数据量，确保数据操作的高效性和一致性。
     - **新问题：** 高峰期数据库压力仍然较大，影响数据查询和更新速度。
     - **优化措施：** 实施读写分离和数据库集群，分散查询压力，同时利用Redis缓存热点数据减轻数据库负担。

2. **Redis缓存应用**
   - **业务亮点：** 使用Redis缓存处理频繁访问的数据，如余票信息，大幅提高系统响应速度。
   - **技术难点与解决方案：**
     - **问题：** 初始未考虑缓存数据一致性问题，导致用户有时获取到的票务信息不准确。
     - **解决方案：** 引入缓存更新策略，如设置合理的过期时间和使用发布订阅模式通知相关服务更新数据。

3. **RabbitMQ异步消息队列**
   - **业务亮点：** 利用RabbitMQ处理耗时任务，如票务生成和订单处理，提高系统整体效率和用户体验。
   - **技术难点与解决方案：**
     - **问题：** 在高并发场景下，消息队列的处理延迟增加，影响了任务的及时性。
     - **解决方案：** 优化消息队列的处理逻辑，增加消费者数量，实施优先级队列确保关键任务优先处理。

4. **压力测试与系统优化**
   - **业务亮点：** 使用JMeter进行系统压力测试，确保系统在高负载环境下的稳定性和性能。
   - **技术难点与解决方案：**
     - **问题：** 初始压力测试发现系统在极端情况下会出现响应延迟和服务中断。
     - **解决方案：** 根据压力测试结果调整系统配置和资源分配，如增加服务器计算资源，优化后端服务的处理能力，确保系统的高可用性和可靠性。

通过上述技术难点的分析和解决方案的实施，12306铁路购票简化版本能够有效地处理高并发的票务购买请求，提供稳定可靠的服务，同时展示了您作为高级Java架构工程师在系统设计和性能优化方面的专业能力。这将为您的简历增添亮点，展示您的技术深度和问题解决能力。

好的！针对“使用JMeter进行压力测试”这一职责，可以进一步细化描述测试策略、场景设计、性能瓶颈分析及优化过程，突出技术深度和实际成果。以下是扩展后的版本：

---

### 使用JMeter进行全链路压力测试与性能调优
#### **（1）压力测试目标与场景设计**
- **核心业务场景覆盖**：  
  针对高并发场景（如演唱会抢票），设计以下测试用例：  
  - **查询余票接口**：模拟瞬时10万用户轮询余票状态（QPS峰值5万+）。  
  - **抢票下单接口**：模拟5万用户同时提交抢票请求（验证库存扣减的原子性）。  
  - **订单支付接口**：测试支付回调与订单状态同步的可靠性（网络抖动、重复回调）。  
- **异常场景模拟**：  
  - 服务器资源耗尽（CPU 90%+，内存不足）时的服务降级与熔断策略验证。  
  - 数据库连接池满负荷时的请求排队与超时处理。

#### **2）测试执行与性能瓶颈定位**
- **分布式压测部署**：  
  使用JMeter分布式集群（1 Master + 3 Slave）生成大规模负载，确保压测数据真实性。  
- **关键性能指标监控**：  
  - **系统层面**：通过Grafana+Prometheus监控服务器CPU、内存、磁盘IO、网络带宽。  
  - **中间件层面**：追踪Redis缓存命中率、RabbitMQ消息堆积量、MySQL慢查询。  
  - **应用层面**：通过SkyWalking分析接口响应时间分布（如GC暂停导致的毛刺）。  
- **瓶颈分析**：  
  - **首次压测结果**：  
    - 抢票接口在8000 QPS时出现大量超时（RT从50ms飙升至2s）。  
    - MySQL出现锁竞争，库存扣减SQL执行时间超过500ms。  
  - **根因定位**：  
    - 数据库行锁争用：高频update库存导致InnoDB锁冲突。  
    - Redis缓存击穿：热点座位缓存过期后，瞬时穿透到数据库。

#### **（3）性能优化措施**
- **数据库优化**：  
  - 库存扣减改用**Redis Lua原子操作** + **异步批量写入MySQL**，降低数据库压力。  
  - 对座位表添加**分段锁**（将库存拆分为10个逻辑段，分散锁竞争）。  
- **缓存策略升级**：  
  - 对热点数据（如热门场次座位）采用**永不过期+后台定时更新**策略，避免缓存击穿。  
  - 使用**布隆过滤器**拦截无效座位ID查询，减少无效数据库访问。  
- **消息队列调优**：  
  - 为RabbitMQ抢票队列设置**优先级策略**，优先处理即将超时的订单。  
  - 增加**死信队列**自动处理支付超时订单，释放锁定库存。  

#### **（4）优化后效果验证**
- **性能提升数据**：  
  | **指标**           | 优化前           | 优化后               | 提升幅度 |
  | ------------------ | ---------------- | -------------------- | -------- |
  | 抢票接口QPS        | 8000（超时30%）  | 25000（成功率99.9%） | 212%     |
  | 平均响应时间（RT） | 2200ms           | 68ms                 | 97%      |
  | MySQL TPS          | 4500（锁等待高） | 12000（无锁竞争）    | 166%     |
- **容灾能力验证**：  
  - 模拟单节点宕机后，系统10秒内自动切换至备用节点，服务中断时间<1秒。  
  - 消息队列堆积10万条时，通过动态扩容消费者实例，30分钟内恢复正常水位。

#### **（5）测试资产沉淀**
- 构建**自动化压测流水线**：将JMeter测试脚本集成到Jenkins，支持定时执行与CI/CD联动。  
- 输出**性能基线报告**：为后续版本迭代提供性能验收标准（如接口RT不得高于100ms）。  

---

#### **修改后的职责描述（精简版）**
**3. 使用JMeter主导全链路压力测试与性能调优**  

- 设计10万级并发测试场景，通过分布式压测暴露系统瓶颈（如数据库锁竞争、缓存击穿），推动Redis Lua原子操作、库存分段锁等优化方案落地，使抢票接口QPS从8000提升至25000，超时率下降至0.1%。  
- 搭建Grafana+Prometheus+SkyWalking立体化监控体系，定位GC频繁、慢SQL等深层问题，优化后核心接口平均响应时间降低97%。  
- 沉淀自动化压测流水线及性能基线报告，支撑后续版本高效迭代。  

---

#### **扩展的价值点**
1. **体现技术深度**：从“简单使用工具”升级为“通过测试驱动架构优化”。  
2. **量化成果**：用具体数据证明优化效果，增强说服力。  
3. **突出全局视角**：展现测试、监控、调优的闭环能力，契合中高级研发工程师定位。

